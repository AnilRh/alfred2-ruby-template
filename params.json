{"name":"Alfred2-ruby-template","tagline":"Alfred 2 Workflow Ruby Template","body":"# Alfred 2 Workflow Ruby Template\r\n\r\nA template for Ruby-based Alfred 2 workflow development.\r\n\r\n## Example Projects\r\n\r\n* [alfred2-top-workflow]( https://github.com/zhaocai/alfred2-top-workflow )\r\n* [alfred2-google-workflow]( https://github.com/zhaocai/alfred2-google-workflow )\r\n* [alfred2-sourcetree-workflow]( https://github.com/zhaocai/alfred2-sourcetree-workflow )\r\n\r\n\r\n## Main features:\r\n\r\n* Use standard [bundler][gembundler] to easily package, manage, and update ruby gems in the workflow.\r\n* Friendly exception and debug output to the Mac OS X Console\r\n* Automate rescue feedback items to alfred when something goes wrong.\r\n* Automate saving and loading cached feedback\r\n\r\n> Alfred workflow and feedback related functions are located in a separate [alfred-workflow gem]( https://github.com/zhaocai/alfred-workflow ) which can be easily installed by adding `gem \"alfred-workflow\"` in the Gemfile.\r\n\r\n* Functions to easily load and save user configuration (in YAML)\r\n* Functions for smart case query filter of feedback results.\r\n* Functions for finding the bundle ID, cache and storage paths, and query arguments.\r\n* Functions for reading and writing plist files.\r\n* Functions to simplify generating feedback XML for Alfred.\r\n\r\n\r\n## Quick Example\r\n\r\n```ruby\r\nrequire 'rubygems' unless defined? Gem\r\nrequire \"bundle/bundler/setup\"\r\nrequire \"alfred\"\r\n\r\nAlfred.with_friendly_error do |alfred|\r\n  fb = alfred.feedback\r\n\r\n  fb.add_file_item(File.expand_path \"~/Applications/\")\r\n\r\n  puts fb.to_alfred(ARGV)\r\nend\r\n```\r\n\r\nMain code are wrapped in `Alfred.with_friendly_error` block. Exceptions and debug messages are logged to Console log file **~/Library/Logs/Alfred-Workflow.log**.\r\n\r\nOne more example with rescue feedback automatically generated!\r\n\r\n```ruby\r\nrequire 'rubygems' unless defined? Gem\r\nrequire \"bundle/bundler/setup\"\r\nrequire \"alfred\"\r\n\r\ndef my_code_with_something_goes_wrong\r\n  true\r\nend\r\n\r\nAlfred.with_friendly_error do |alfred|\r\n  alfred.with_rescue_feedback = true\r\n\r\n  fb = alfred.feedback\r\n\r\n  if my_code_with_something_goes_wrong\r\n    raise Alfred::NoBundleIDError, \"Wrong Bundle ID Test!\"\r\n  end\r\nend\r\n```\r\n\r\n![rescue feedback](https://raw.github.com/zhaocai/alfred2-ruby-template/master/screenshots/rescue%20feedback.png)\r\n\r\n\r\n\r\n## Quick Start Guide\r\n\r\nYou may directly download the [alfred2-ruby-template workflow]( https://github.com/zhaocai/alfred2-ruby-template/raw/master/alfred2-ruby-template.alfredworkflow ) here, install, and play with the keywords: `test feedback` and `test rescue feedback`.\r\n\r\n### Step 1: Clone or Fork\r\n\r\nClone or fork this repo to your local directory: \r\n\r\n`git clone https://github.com/zhaocai/alfred2-ruby-template.git`\r\n\r\n### Step 2: Config.yml\r\nUpdate **domain** and **id** in the `config.yml` file.\r\n\r\n```yaml\r\n# bundle_id = \"domain.id\"\r\n# path is the relative path to the workflow in the project root\r\n---\r\npath: workflow\r\ndomain: your.domain\r\nid: alfred2-ruby-template\r\n```\r\n\r\n### Step 3: Install\r\n> `[sudo] gem install plist` if you have not installed the **plist** gem.\r\n\r\nRun `rake install` to install the workflow. Now you can see the workflow loaded in the\r\nAlfred workflow interface.\r\n\r\n### Step 4: Add Ruby Gems\r\n\r\nEdit **workflow/Gemfile**. Add some gems.\r\n\r\n```ruby\r\nsource \"https://rubygems.org\"\r\n\r\ngem \"plist\"\r\ngem \"logging\"\r\ngem \"alfred-workflow\"\r\n# gem \"your-gem-required\"\r\n```\r\n\r\nRun `rake bundle:install` to pull the gems into **workflow/bundle/** folder.\r\n\r\n### Step 5: Your Code\r\n\r\nNow you are good to add your own code based on the previous example.\r\n\r\n\r\n## More Examples:\r\n\r\n### 1. Automate saving and loading cached feedback\r\n```ruby\r\nrequire 'rubygems' unless defined? Gem\r\nrequire \"bundle/bundler/setup\"\r\nrequire \"alfred\"\r\n\r\nAlfred.with_friendly_error do |alfred|\r\n  alfred.with_rescue_feedback = true\r\n  alfred.with_cached_feedback do\r\n    # expire in 1 hour\r\n    use_cache_file :expire => 3600\r\n    # use_cache_file :file => \"/path/to/your/cache_file\", :expire => 3600\r\n  end\r\n\r\n  if fb = alfred.feedback.get_cached_feedback\r\n    # cached feedback is valid\r\n    puts fb.to_alfred\r\n  else \r\n    fb = alfred.feedback\r\n    # ... generate_feedback as usually\r\n    fb.put_cached_feedback\r\n  end\r\nend\r\n```\r\n\r\n\r\n## Troubleshooting\r\n\r\n1. System bundler version is too old.\r\n\r\n`sudo gem install bundler`\r\n\r\n\r\n\r\n## Reference\r\n\r\n* [alfred2-ruby-framework]( https://github.com/canadaduane/alfred2-ruby-framework )\r\n\r\n## LICENSE:\r\n\r\nCopyright (c) 2013 Zhao Cai <caizhaoff@gmail.com>\r\n\r\nThis program is free software: you can redistribute it and/or modify it under\r\nthe terms of the GNU General Public License as published by the Free Software\r\nFoundation, either version 3 of the License, or (at your option)\r\nany later version.\r\n\r\nThis program is distributed in the hope that it will be useful, but WITHOUT\r\nANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\r\nFOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License along with\r\nthis program. If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n[gembundler]: http://gembundler.com/\r\n\r\n\r\n","google":"UA-2618346-1","note":"Don't delete this file! It's used internally to help with page regeneration."}